<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cho_jeahyun.myMapper">
	<select id="selectAllReservation_Info" parameterType="String"
		resultType = "cho_jeahyun.Reservation_Info">
		select * from Reservation_Info
		where cid = #{cid} order by to_date(reservation_date) desc
	</select>
	<select id="selectAllReservation_Info_non" parameterType="cho_jeahyun.Login_info"
		resultType = "cho_jeahyun.Reservation_Info">
		select * from Reservation_Info
		where order_id = #{order_id} and name = #{name} and phone = #{phone}
		order by to_date(reservation_date) desc
	</select>
	<select id="selectLogin" parameterType="cho_jeahyun.Login_info"
	resultType="cho_jeahyun.Login_info">
		select * from customer
		where cid = #{cid} and pw = #{pw}
	</select>
	<select id="selectAccount" parameterType="String"
	resultType="cho_jeahyun.Login_info">
		select * from customer
		where cid = #{cid}
	</select>
	<select id="selectId" parameterType="cho_jeahyun.Login_info"
	resultType="String">
		select cid from customer
		where email = #{email} and name = #{name}
	</select>
	<select id="selectPw" parameterType="cho_jeahyun.Login_info"
	resultType="String">
		select pw from customer
		where cid = #{cid} and email = #{email}
	</select>
	
	<insert id="insertLogin" parameterType="cho_jeahyun.Login_info" >
		insert into customer values(#{cid},#{pw},
		#{name},(#{birthday}, 'YYYY-MM-DD'),#{gender},
		#{email},#{phone},#{address},0)
	</insert>
	<delete id="deleteCustomer" parameterType = "HashMap">
		delete from customer
		<where>
			<if test="cid != null">and cid = #{cid}</if>
			<if test="phone != null">and phone = #{phone}</if>
		</where>
	</delete>
	<update id="updateCustomer" parameterType = "cho_jeahyun.Login_info">
		update customer set name = #{name},
		pw = #{pw},
		(birthday, 'yyyy-mm-dd') = #{birthday},
		gender = #{gender},
		email = #{email},
		address = #{address},
		phone = #{phone}
		where cid = #{cid}
	</update>
</mapper>







